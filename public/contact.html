<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Quantum Chemistry Lab</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="Contact the Quantum Chemistry Lab team for inquiries, support, or collaboration opportunities">
    <meta name="keywords" content="contact, chemistry, support, laboratory, research, collaboration, database, chemical">
    <meta name="author" content="Quantum Chemistry Lab Team">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Color Palette */
            --primary: #0f172a;
            --secondary: #1e293b;
            --accent: #3b82f6;
            --accent-light: #60a5fa;
            --accent-dark: #1d4ed8;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #0ea5e9;
            
            /* Gradients */
            --gradient-accent: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            --gradient-dark: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            
            /* Glass Effect */
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            
            /* Typography */
            --font-primary: 'Inter', sans-serif;
            --font-secondary: 'Poppins', sans-serif;
            
            /* Spacing */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --radius-xl: 30px;
            
            /* Transitions */
            --transition-normal: 0.3s ease;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }

        body {
            font-family: var(--font-primary);
            background: var(--primary);
            color: #f8fafc;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        body.chatbot-active {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* ===== TYPOGRAPHY ===== */
        h1, h2, h3, h4 {
            font-family: var(--font-secondary);
            font-weight: 700;
            line-height: 1.2;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
        }

        h2 {
            font-size: clamp(2rem, 4vw, 3rem);
        }

        h3 {
            font-size: clamp(1.5rem, 3vw, 2rem);
        }

        p {
            font-size: 1.1rem;
            color: #cbd5e1;
        }

        .gradient-text {
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.875rem 1.75rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition-normal);
            border: none;
            outline: none;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--gradient-accent);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-outline:hover {
            background: var(--accent);
            color: white;
        }

        /* ===== ENHANCED CHATBOT RESPONSIVE SYSTEM ===== */
        
        /* Main Header - Will be hidden when chatbot is active */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: 1000;
            height: 80px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* When chatbot is active, hide and blur everything behind it */
        .chatbot-container.active ~ .main-header {
            opacity: 0;
            visibility: hidden;
            transform: translateY(-100%);
            pointer-events: none;
        }

        .chatbot-container.active ~ *:not(.chatbot-toggle) {
            filter: blur(3px) brightness(0.7);
            pointer-events: none;
            user-select: none;
        }

        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
            height: 80px;
        }

        /* Adjust hero section for fixed header */
        .page-hero {
            padding: calc(10rem + 80px) 0 4rem;
            background: var(--gradient-dark);
            position: relative;
            overflow: hidden;
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
        }

        /* ===== ULTIMATE RESPONSIVE CHATBOT CONTAINER ===== */
        
        /* Chatbot Toggle Button - Always visible and accessible */
        .chatbot-toggle {
            position: fixed;
            bottom: max(20px, env(safe-area-inset-bottom, 20px));
            right: max(20px, env(safe-area-inset-right, 20px));
            width: 70px;
            height: 70px;
            background: var(--gradient-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.4);
            z-index: 1001;
            transition: var(--transition-normal);
            animation: pulse 2s infinite;
            border: none;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(59, 130, 246, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
            }
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            animation: none;
        }

        .chatbot-toggle:active {
            transform: scale(0.95);
        }

        /* Chatbot Container - FULL SCREEN MODAL SYSTEM */
        .chatbot-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            max-height: 100vh;
            background: var(--secondary);
            border: none;
            border-radius: 0;
            box-shadow: none;
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 9999;
            margin: 0;
            padding: 0;
            opacity: 0;
            transform: translateY(100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .chatbot-container.active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }

        /* Desktop/Laptop (≥ 1024px) - Large Floating Panel */
        @media (min-width: 1024px) {
            .chatbot-container {
                position: fixed;
                top: 50%;
                left: 50%;
                width: min(900px, 90vw);
                height: min(800px, 90vh);
                max-height: min(800px, 90vh);
                transform: translate(-50%, -50%) scale(0.95);
                opacity: 0;
                border-radius: var(--radius-xl);
                border: 1px solid var(--glass-border);
                box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            }
            
            .chatbot-container.active {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            
            .chatbot-container.active ~ .main-header {
                opacity: 1;
                visibility: visible;
                transform: translateY(0);
                pointer-events: auto;
            }
            
            .chatbot-container.active ~ *:not(.chatbot-toggle) {
                filter: blur(1px);
                pointer-events: none;
            }
            
            .chatbot-toggle {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }
        }

        /* Tablet (768px - 1023px) - Centered Wide Panel */
        @media (min-width: 768px) and (max-width: 1023px) {
            .chatbot-container {
                position: fixed;
                top: 50%;
                left: 50%;
                width: min(700px, 95vw);
                height: min(700px, 85vh);
                max-height: min(700px, 85vh);
                transform: translate(-50%, -50%) scale(0.95);
                opacity: 0;
                border-radius: var(--radius-xl);
                border: 1px solid var(--glass-border);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            }
            
            .chatbot-container.active {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            
            .chatbot-container.active ~ .main-header {
                opacity: 0.5;
                visibility: visible;
                transform: translateY(0);
                pointer-events: none;
            }
            
            .chatbot-container.active ~ *:not(.chatbot-toggle) {
                filter: blur(2px) brightness(0.8);
                pointer-events: none;
            }
            
            .chatbot-toggle {
                width: 65px;
                height: 65px;
                font-size: 1.6rem;
            }
        }

        /* Mobile (≤ 767px) - Full Screen Modal */
        @media (max-width: 767px) {
            .chatbot-container {
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                max-height: 100vh;
                transform: translateY(100%);
                opacity: 1;
                border-radius: 0;
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .chatbot-container.active {
                transform: translateY(0);
            }
            
            .chatbot-container.active ~ .main-header {
                opacity: 0;
                visibility: hidden;
                transform: translateY(-100%);
                pointer-events: none;
            }
            
            .chatbot-toggle {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
                bottom: max(15px, env(safe-area-inset-bottom, 15px));
                right: max(15px, env(safe-area-inset-right, 15px));
            }
            
            /* iOS Safari specific */
            @supports (-webkit-touch-callout: none) {
                .chatbot-container {
                    height: -webkit-fill-available;
                }
            }
        }

        /* Small Mobile Devices (≤ 480px) */
        @media (max-width: 480px) {
            .chatbot-toggle {
                width: 55px;
                height: 55px;
                font-size: 1.3rem;
                bottom: max(10px, env(safe-area-inset-bottom, 10px));
                right: max(10px, env(safe-area-inset-right, 10px));
            }
        }

        /* Extra Small Devices (≤ 320px) */
        @media (max-width: 320px) {
            .chatbot-toggle {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }

        /* ===== CHATBOT INTERNAL COMPONENTS ===== */
        
        /* Chatbot Header - Professional like ChatGPT */
        .chatbot-header {
            background: var(--gradient-dark);
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            min-height: 65px;
            z-index: 10;
            position: sticky;
            top: 0;
            backdrop-filter: blur(10px);
        }

        .chatbot-header h3 {
            font-size: 1.1rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: white;
            font-weight: 600;
        }

        .chatbot-header i {
            font-size: 1.3rem;
            color: var(--accent-light);
            flex-shrink: 0;
        }

        /* Professional ChatGPT-like status indicator */
        .chatbot-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: auto;
            margin-right: 1rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-text {
            font-size: 0.85rem;
            color: #94a3b8;
        }

        /* Chatbot Close Button - Professional X */
        .chatbot-close {
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            font-size: 1.4rem;
            transition: var(--transition-normal);
            width: 36px;
            height: 36px;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            -webkit-tap-highlight-color: transparent;
            padding: 0;
        }

        .chatbot-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .chatbot-close:active {
            transform: scale(0.95);
        }

        /* Chatbot Messages Area - Professional Scrolling */
        .chatbot-messages {
            flex: 1 1 auto;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            min-height: 0;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
            scroll-behavior: smooth;
            padding-bottom: 1rem;
            background: var(--primary);
        }

        /* Custom scrollbar for messages */
        .chatbot-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chatbot-messages::-webkit-scrollbar-track {
            background: transparent;
        }

        .chatbot-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chatbot-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Chatbot Message Bubbles - Professional Style */
        .chatbot-message {
            max-width: 85%;
            padding: 1rem 1.25rem;
            border-radius: var(--radius-lg);
            font-size: 1rem;
            line-height: 1.7;
            word-wrap: break-word;
            overflow-wrap: break-word;
            white-space: pre-wrap;
            word-break: break-word;
            animation: messageSlide 0.3s ease-out;
            flex-shrink: 0;
            position: relative;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* User Message - Clean and Professional */
        .chatbot-message.user {
            background: var(--gradient-accent);
            color: white;
            align-self: flex-end;
            border-radius: var(--radius-lg);
            border-bottom-right-radius: var(--radius-sm);
            margin-left: auto;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
        }

        /* Bot Message - Clean ChatGPT Style */
        .chatbot-message.bot {
            background: rgba(30, 41, 59, 0.8);
            color: #e5e7eb;
            align-self: flex-start;
            border-radius: var(--radius-lg);
            border-bottom-left-radius: var(--radius-sm);
            margin-right: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Welcome message - Compact and Neat */
        .chatbot-message.bot.welcome {
            background: rgba(30, 41, 59, 0.9);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-left: 4px solid var(--accent);
        }

        /* Formatting for paragraphs and lists in bot messages */
        .chatbot-message.bot p {
            margin-bottom: 0.75rem;
            color: #e5e7eb;
            line-height: 1.6;
        }

        .chatbot-message.bot p:last-child {
            margin-bottom: 0;
        }

        .chatbot-message.bot ul,
        .chatbot-message.bot ol {
            margin: 0.5rem 0 0.75rem 1.5rem;
            padding: 0;
        }

        .chatbot-message.bot li {
            margin-bottom: 0.5rem;
            color: #e5e7eb;
        }

        .chatbot-message.bot li:last-child {
            margin-bottom: 0;
        }

        .chatbot-message.bot strong {
            color: white;
            font-weight: 600;
        }

        .chatbot-message.bot em {
            color: #94a3b8;
            font-style: italic;
        }

        /* Compact spacing for welcome message */
        .chatbot-message.bot.welcome p {
            margin-bottom: 0.5rem;
        }

        .chatbot-message.bot.welcome ul {
            margin: 0.25rem 0 0.5rem 1.25rem;
        }

        .chatbot-message.bot.welcome li {
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
        }

        /* Mobile Message Adjustments */
        @media (max-width: 767px) {
            .chatbot-message {
                max-width: 88%;
                font-size: 1rem;
                line-height: 1.6;
                padding: 0.875rem 1rem;
            }
            
            .chatbot-message.user {
                border-radius: var(--radius-lg);
                border-bottom-right-radius: var(--radius-sm);
            }
            
            .chatbot-message.bot {
                border-radius: var(--radius-lg);
                border-bottom-left-radius: var(--radius-sm);
            }
            
            .chatbot-message.bot.welcome {
                border-left: 3px solid var(--accent);
            }
        }

        @media (max-width: 480px) {
            .chatbot-message {
                max-width: 90%;
                font-size: 0.95rem;
                padding: 0.75rem 0.875rem;
            }
            
            .chatbot-message.bot.welcome li {
                font-size: 0.9rem;
            }
        }

        /* Chatbot Input Area - Professional Sticky Bottom */
        .chatbot-input {
            padding: 1.25rem 1.5rem;
            border-top: 1px solid var(--glass-border);
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            gap: 0.75rem;
            align-items: center;
            flex-shrink: 0;
            min-height: 80px;
            z-index: 10;
            position: sticky;
            bottom: 0;
        }

        .chatbot-input input {
            flex: 1;
            padding: 1rem 1.25rem;
            background: rgba(30, 41, 59, 0.9);
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-lg);
            color: white;
            font-size: 1rem;
            font-family: var(--font-primary);
            transition: var(--transition-normal);
            min-height: 50px;
            outline: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .chatbot-input input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .chatbot-input input::placeholder {
            color: #94a3b8;
            opacity: 0.7;
        }

        .chatbot-input button {
            padding: 1rem 1.5rem;
            background: var(--accent);
            border: none;
            border-radius: var(--radius-lg);
            color: white;
            cursor: pointer;
            transition: var(--transition-normal);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 50px;
            height: 50px;
            flex-shrink: 0;
            -webkit-tap-highlight-color: transparent;
        }

        .chatbot-input button:hover {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }

        .chatbot-input button:active {
            transform: scale(0.95);
        }

        .chatbot-input button:disabled {
            background: #4b5563;
            cursor: not-allowed;
            transform: none;
            opacity: 0.7;
        }

        /* Professional send button icon */
        .chatbot-input button i {
            transition: transform 0.2s ease;
        }

        .chatbot-input button:hover i {
            transform: translateX(2px);
        }

        /* Mobile Input Adjustments */
        @media (max-width: 767px) {
            .chatbot-input {
                padding: 1rem;
                min-height: 75px;
                background: rgba(15, 23, 42, 0.98);
                border-top: 1px solid rgba(255, 255, 255, 0.15);
            }
            
            .chatbot-input input {
                font-size: 16px; /* Prevents iOS zoom */
                min-height: 45px;
                padding: 0.875rem 1rem;
                border-radius: var(--radius-md);
            }
            
            .chatbot-input button {
                height: 45px;
                min-width: 45px;
                padding: 0.875rem;
                border-radius: var(--radius-md);
            }
        }

        @media (max-width: 480px) {
            .chatbot-input {
                padding: 0.875rem;
                min-height: 70px;
            }
            
            .chatbot-input input {
                min-height: 45px;
                padding: 0.75rem 0.875rem;
                font-size: 0.95rem;
            }
            
            .chatbot-input button {
                height: 45px;
                min-width: 45px;
                padding: 0.75rem;
                font-size: 1rem;
            }
        }

        /* Quick Actions Bar - Professional Style */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: rgba(15, 23, 42, 0.9);
            border-top: 1px solid var(--glass-border);
            border-bottom: 1px solid var(--glass-border);
            flex-shrink: 0;
        }

        .quick-action-btn {
            padding: 0.625rem 1rem;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: var(--radius-md);
            color: var(--accent-light);
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition-normal);
            white-space: nowrap;
            flex: 1 0 auto;
            -webkit-tap-highlight-color: transparent;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .quick-action-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-1px);
            border-color: var(--accent);
        }

        .quick-action-btn:active {
            transform: scale(0.98);
        }

        /* Quick Actions Mobile Adjustments */
        @media (max-width: 767px) {
            .quick-actions {
                padding: 0.875rem 1rem;
            }
            
            .quick-action-btn {
                flex: 1 0 calc(50% - 0.5rem);
                font-size: 0.85rem;
                padding: 0.5rem 0.75rem;
                min-height: 40px;
            }
        }

        @media (max-width: 480px) {
            .quick-actions {
                padding: 0.75rem 0.875rem;
            }
            
            .quick-action-btn {
                flex: 1 0 100%;
                font-size: 0.8rem;
                padding: 0.5rem 0.625rem;
                min-height: 38px;
            }
        }

        /* Landscape Orientation */
        @media (max-height: 600px) and (orientation: landscape) {
            .chatbot-container {
                height: 100vh;
            }
            
            .chatbot-header {
                padding: 1rem;
                min-height: 55px;
            }
            
            .chatbot-messages {
                padding: 1rem;
                padding-bottom: 0.5rem;
                gap: 0.75rem;
            }
            
            .chatbot-input {
                padding: 1rem;
                min-height: 70px;
            }
            
            .chatbot-message {
                padding: 0.875rem 1rem;
                max-width: 88%;
            }
            
            .quick-actions {
                padding: 0.75rem 1rem;
                flex-wrap: nowrap;
                overflow-x: auto;
            }
            
            .quick-action-btn {
                flex: 0 0 auto;
                white-space: nowrap;
            }
        }

        /* Very Short Screens */
        @media (max-height: 500px) {
            .chatbot-header {
                padding: 0.75rem 1rem;
                min-height: 50px;
            }
            
            .chatbot-header h3 {
                font-size: 0.95rem;
            }
            
            .chatbot-messages {
                padding: 0.75rem;
                padding-bottom: 0.5rem;
                gap: 0.75rem;
            }
            
            .chatbot-input {
                padding: 0.75rem;
                min-height: 65px;
            }
            
            .quick-actions {
                padding: 0.5rem 0.75rem;
            }
            
            .chatbot-message {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }
        }

        /* Loading Indicator - Professional Style */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.25rem;
            background: rgba(30, 41, 59, 0.8);
            border-radius: var(--radius-lg);
            align-self: flex-start;
            border: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
            margin: 0;
            max-width: 85%;
        }

        .typing-dots {
            display: flex;
            gap: 0.25rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-light);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-6px);
            }
        }

        /* Message Timestamp (Optional) */
        .message-timestamp {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 0.25rem;
            text-align: right;
            opacity: 0.8;
        }

        .chatbot-message.user .message-timestamp {
            text-align: right;
        }

        .chatbot-message.bot .message-timestamp {
            text-align: left;
        }

        /* ===== HEADER STYLES ===== */
        .nav-brand .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: white;
        }

        .nav-brand i {
            font-size: 2rem;
            color: var(--accent);
        }

        .logo-text h1 {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }

        .logo-text h1 span {
            color: var(--accent);
        }

        .logo-subtitle {
            font-size: 0.8rem;
            color: #94a3b8;
            margin: 0;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            color: #cbd5e1;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition-normal);
        }

        .nav-link:hover,
        .nav-link.active {
            color: white;
        }

        .nav-link.active {
            position: relative;
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--gradient-accent);
        }

        /* ===== HERO SECTION ===== */
        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        /* ===== CONTACT SECTION ===== */
        .contact-section {
            padding: 6rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            margin-bottom: 1rem;
        }

        .section-subtitle {
            font-size: 1.25rem;
            color: #94a3b8;
            max-width: 600px;
            margin: 0 auto;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .contact-methods {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            transition: var(--transition-normal);
        }

        .contact-item:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
        }

        .contact-item i {
            width: 50px;
            height: 50px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .contact-item h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
            color: #cbd5e1;
        }

        .contact-item a,
        .contact-item p {
            color: #94a3b8;
            text-decoration: none;
            transition: var(--transition-normal);
        }

        .contact-item a:hover {
            color: var(--accent);
        }

        .contact-subtitle {
            color: #94a3b8;
            margin-bottom: 2rem;
        }

        /* Social Links */
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .social-link {
            width: 45px;
            height: 45px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            text-decoration: none;
            transition: var(--transition-normal);
        }

        .social-link:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-3px);
        }

        /* Contact Form */
        .contact-form {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #cbd5e1;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            color: white;
            font-size: 1rem;
            transition: var(--transition-normal);
            font-family: var(--font-primary);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .form-group select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%2394a3b8' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 16px;
        }

        /* Form Messages */
        .form-message {
            padding: 1rem;
            border-radius: var(--radius-md);
            margin-bottom: 1rem;
            display: none;
        }

        .form-message.success {
            display: block;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .form-message.error {
            display: block;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--danger);
            color: var(--danger);
        }

        /* ===== MAP SECTION ===== */
        .map-section {
            padding: 4rem 0;
            background: var(--secondary);
        }

        .map-container {
            border-radius: var(--radius-lg);
            overflow: hidden;
            height: 400px;
            border: 1px solid var(--glass-border);
        }

        .map-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            text-align: center;
            padding: 2rem;
        }

        .map-placeholder i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        /* ===== FAQ SECTION ===== */
        .faq-section {
            padding: 6rem 0;
        }

        .faq-grid {
            display: grid;
            gap: 1.5rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: var(--transition-normal);
        }

        .faq-item:hover {
            border-color: var(--accent);
        }

        .faq-question {
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: rgba(30, 41, 59, 0.5);
        }

        .faq-question h3 {
            font-size: 1.1rem;
            color: white;
        }

        .faq-question i {
            color: var(--accent);
            transition: var(--transition-normal);
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-item.active .faq-answer {
            padding: 1.5rem;
            max-height: 500px;
        }

        /* ===== FOOTER ===== */
        .main-footer {
            background: var(--secondary);
            padding: 4rem 0 2rem;
            border-top: 1px solid var(--glass-border);
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 4rem;
            margin-bottom: 3rem;
        }

        .footer-brand .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            text-decoration: none;
            color: white;
        }

        .footer-brand i {
            font-size: 2rem;
            color: var(--accent);
        }

        .footer-brand h2 {
            font-size: 1.5rem;
        }

        .footer-brand h2 span {
            color: var(--accent);
        }

        .footer-description {
            font-size: 0.9rem;
            color: #94a3b8;
            line-height: 1.6;
        }

        .footer-links {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .footer-column h4 {
            font-size: 1rem;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 0.75rem;
        }

        .footer-column a {
            color: #94a3b8;
            text-decoration: none;
            transition: var(--transition-normal);
            font-size: 0.9rem;
        }

        .footer-column a:hover {
            color: var(--accent);
        }

        .footer-bottom {
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
            text-align: center;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .footer-bottom i {
            color: #ef4444;
            margin: 0 0.25rem;
        }

        /* ===== LOADING STATES ===== */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== RESPONSIVE DESIGN (GENERAL) ===== */
        @media (max-width: 1200px) {
            .container {
                max-width: 960px;
                padding: 0 1.5rem;
            }
        }

        @media (max-width: 992px) {
            .contact-grid {
                gap: 3rem;
            }
            
            .footer-content {
                gap: 3rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .nav-menu {
                display: none;
            }
            
            .contact-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
            
            .footer-links {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            /* Adjust hero padding for mobile */
            .page-hero {
                padding: calc(8rem + 80px) 0 3rem;
            }
        }

        @media (max-width: 480px) {
            .contact-item {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }
            
            .social-links {
                justify-content: center;
            }
        }

        /* ===== ACCESSIBILITY & SPECIAL CASES ===== */
        
        /* High contrast mode */
        @media (prefers-contrast: high) {
            .chatbot-container {
                border: 2px solid var(--accent);
            }
            
            .chatbot-message.bot {
                border-left: 4px solid var(--accent);
            }
            
            .chatbot-input {
                border-top: 2px solid var(--accent);
            }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            
            .chatbot-toggle,
            .chatbot-container,
            .chatbot-message,
            .typing-dot,
            .quick-action-btn,
            .btn,
            .contact-item {
                transition: none;
                animation: none;
            }
            
            .chatbot-container {
                transform: none;
            }
            
            .chatbot-container.active {
                transform: none;
            }
            
            .typing-dot {
                animation: none;
                opacity: 0.6;
            }
        }

        /* Dark mode adjustments */
        @media (prefers-color-scheme: dark) {
            .chatbot-container {
                border: 1px solid rgba(255, 255, 255, 0.15);
            }
        }

        /* Ensure messages have a spacer for proper scrolling */
        .chatbot-messages:after {
            content: '';
            display: block;
            height: 1px;
            flex-shrink: 0;
            opacity: 0;
        }

        /* Desktop hover effects */
        @media (min-width: 1024px) {
            .chatbot-close:hover {
                transform: rotate(90deg);
                background: rgba(255, 255, 255, 0.15);
            }
        }

        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .chatbot-toggle:active,
            .chatbot-close:active,
            .quick-action-btn:active,
            .btn:active {
                transform: scale(0.95);
            }
            
            .chatbot-input button:active {
                transform: scale(0.95);
            }
        }

        /* Print styles */
        @media print {
            .chatbot-toggle,
            .chatbot-container {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="nav-brand">
                    <div class="logo">
                        <i class="fas fa-atom"></i>
                        <div class="logo-text">
                            <h1>Quantum<span>Chem</span></h1>
                            <p class="logo-subtitle">Laboratory Database</p>
                        </div>
                    </div>
                </a>
                
                <div class="nav-menu">
                    <a href="chemical.html" class="nav-link">Home</a>
                    <a href="team.html" class="nav-link">Team</a>
                    <a href="contact.html" class="nav-link active">Contact</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <div class="hero-content">
                <h1>Contact <span class="gradient-text">Us</span></h1>
                <p>Get in touch with our team for inquiries, support, or collaboration opportunities</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <h2 class="section-title">Get In Touch</h2>
                <p class="section-subtitle">We're here to help with any questions about our chemical database or research platform</p>
            </div>
            
            <div class="contact-grid">
                <div class="contact-info" data-aos="fade-right">
                    <h3>Contact Information</h3>
                    <p class="contact-subtitle">Feel free to reach out to us through any of these channels</p>
                    
                    <div class="contact-methods">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h4>Email</h4>
                                <a href="mailto:quantumchem25@gmail.com">quantumchem25@gmail.com</a>
                                <p>Response within 24 hours</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <h4>Phone</h4>
                                <a href="tel:+918149277038">+91 81492 77038</a>
                                <p>Mon-Fri, 9AM-6PM IST</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <div>
                                <h4>WhatsApp</h4>
                                <a href="https://wa.me/918149277038" target="_blank">Message Quantumchem on WhatsApp</a>
                                <p>Click to start a chat</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h4>Location</h4>
                                <p>Pimpri Chinchwad College of Engineering</p>
                                <p>Sector 26, Pradhikaran, Nigdi, Pune</p>
                                <p>Maharashtra 411044, India</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <h4>Office Hours</h4>
                                <p>Monday - Friday: 9:00 AM - 6:00 PM</p>
                                <p>Saturday: 10:00 AM - 2:00 PM</p>
                                <p>Sunday: Closed</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="social-links">
                        <a href="https://www.instagram.com/quantumchem25/?hl=en" class="social-link" title="Instagram" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="www.linkedin.com/in/nikhil-shinde-286937367" class="social-link" title="LinkedIn" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://github.com/nikhilnick5050" class="social-link" title="GitHub" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://www.facebook.com/profile.php?id=61585853281971" class="social-link" title="Facebook" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.youtube.com/@Quantumchem-k6l" class="social-link" title="YouTube" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="https://researchgate.net/profile/quantumchem-lab" class="social-link" title="ResearchGate" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-researchgate"></i>
                        </a>
                    </div>
                </div>
                
                <div class="contact-form" data-aos="fade-left">
                    <h3>Send Us a Message</h3>
                    <p class="contact-subtitle">Fill out the form below and we'll get back to you as soon as possible</p>
                    
                    <!-- Form Messages -->
                    <div id="formMessage" class="form-message"></div>
                    
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Full Name *</label>
                            <input type="text" id="name" name="name" required placeholder="Enter your full name">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" required placeholder="Enter your email address">
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <select id="subject" name="subject" required>
                                <option value="">Select a subject</option>
                                <option value="Technical Support">Technical Support</option>
                                <option value="Database Inquiry">Database Inquiry</option>
                                <option value="Research Collaboration">Research Collaboration</option>
                                <option value="Feedback & Suggestions">Feedback & Suggestions</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" required placeholder="Type your message here..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="submitBtn">
                            <i class="fas fa-paper-plane"></i>
                            <span id="submitText">Send Message</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>
        <!-- Map Section -->
    <section class="map-section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <h2 class="section-title">Find Our Location</h2>
                <p class="section-subtitle">Visit our laboratory at PCCOE campus</p>
            </div>
            
            <div class="map-container" data-aos="zoom-in">
                <div class="map-placeholder">
                    <i class="fas fa-map-marked-alt"></i>
                    <h3>PCCOE Campus Location</h3>
                    <p>Sector 26, Pradhikaran, Nigdi, Pune, Maharashtra 411044</p>
                    <a href="https://maps.app.goo.gl/JuiLKGDwXFRkUMg59" target="_blank" class="btn btn-outline" style="margin-top: 1rem;">
                        <i class="fas fa-directions"></i>
                        Open in Google Maps
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <p class="section-subtitle">Quick answers to common questions about our platform</p>
            </div>
            
            <div class="faq-grid">
                <div class="faq-item" data-aos="fade-up">
                    <div class="faq-question">
                        <h3>How can I access the chemical database?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>The chemical database is accessible to registered users. You can create an account or use the guest login to browse the database. Full access to all features requires registration with institutional email.</p>
                    </div>
                </div>
                
                <div class="faq-item" data-aos="fade-up" data-aos-delay="100">
                    <div class="faq-question">
                        <h3>Is there a cost to use the platform?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Basic access to the chemical database is free for educational and research purposes. Advanced features, API access, and commercial use may require subscription plans. Contact us for enterprise pricing.</p>
                    </div>
                </div>
                
                <div class="faq-item" data-aos="fade-up" data-aos-delay="200">
                    <div class="faq-question">
                        <h3>Can I contribute to the database?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! We welcome contributions from researchers and institutions. You can submit chemical data through our submission portal. All contributions are peer-reviewed before being added to the database.</p>
                    </div>
                </div>
                
                <div class="faq-item" data-aos="fade-up" data-aos-delay="300">
                    <div class="faq-question">
                        <h3>How often is the database updated?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>We update the database weekly with new chemicals, properties, and safety data. Major updates and new features are released quarterly. Subscribers receive notifications about updates.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <i class="fas fa-atom"></i>
                        <div class="logo-text">
                            <h2>Quantum<span>Chem</span></h2>
                            <p>Advanced Chemical Database</p>
                        </div>
                    </a>
                    <p class="footer-description">
                        A comprehensive platform for chemical research, safety management, 
                        and scientific collaboration.
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Platform</h4>
                        <ul>
                            <li><a href="chemical.html">Home</a></li>
                            <li><a href="team.html">Team</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="documentation.html">Documentation</a></li>
                            <li><a href="tutorials.html">Tutorials</a></li>
                            <li><a href="downloads.html">Downloads</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <ul>
                            <li><a href="privacy-policy.html">Privacy Policy</a></li>
                            <li><a href="terms.html">Terms of Service</a></li>
                            <li><a href="cookie-policy.html">Cookie Policy</a></li>
                            <li><a href="security.html">Security</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Quantum Chemistry Lab. All rights reserved.</p>
                <p>Made with <i class="fas fa-heart"></i> by Chemistry Research Team | PCCOE</p>
            </div>
        </div>
    </footer>

    <!-- Chatbot Toggle -->
    <div class="chatbot-toggle" id="chatbotToggle">
        <i class="fas fa-robot"></i>
    </div>

    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header">
            <h3><i class="fas fa-robot"></i> AI QuantumChem Assistant</h3>
            <div class="chatbot-status">
                <div class="status-dot"></div>
                <span class="status-text">Online</span>
            </div>
            <button class="chatbot-close" id="chatbotClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chatbot-message bot welcome">
                <p><strong>Hello! 👋 I'm your AI Quantum Chemistry Assistant.</strong></p>
                <p>I can help you with:</p>
                <ul>
                    <li>Chemical database queries</li>
                    <li>Research information</li>
                    <li>Contact details</li>
                    <li>Technical support</li>
                    <li>FAQ about our platform</li>
                </ul>
                <p>How can I assist you today?</p>
            </div>
        </div>
        
        <!-- Quick Actions -->
        <div class="quick-actions" id="quickActions">
            <button class="quick-action-btn" data-action="contact">
                <i class="fas fa-phone"></i>
                <span>Contact Info</span>
            </button>
            <button class="quick-action-btn" data-action="hours">
                <i class="fas fa-clock"></i>
                <span>Office Hours</span>
            </button>
            <button class="quick-action-btn" data-action="database">
                <i class="fas fa-database"></i>
                <span>Database Access</span>
            </button>
            <button class="quick-action-btn" data-action="help">
                <i class="fas fa-question-circle"></i>
                <span>Help Guide</span>
            </button>
        </div>
        
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Type your question here...">
            <button id="chatbotSend"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });

        // Initialize EmailJS with your Public Key
        (function() {
            // REPLACE THIS WITH YOUR EMAILJS PUBLIC KEY
            emailjs.init("YOUR_EMAILJS_PUBLIC_KEY_HERE");
        })();

        // Main JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // FAQ Accordion
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item && otherItem.classList.contains('active')) {
                            otherItem.classList.remove('active');
                        }
                    });
                    item.classList.toggle('active');
                });
            });

            // Contact Form
            const contactForm = document.getElementById('contactForm');
            const formMessage = document.getElementById('formMessage');
            const submitBtn = document.getElementById('submitBtn');
            const submitText = document.getElementById('submitText');
            
            if (contactForm) {
                contactForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const formData = {
                        from_name: document.getElementById('name').value,
                        from_email: document.getElementById('email').value,
                        subject: document.getElementById('subject').value,
                        message: document.getElementById('message').value,
                        to_email: 'quantumchem25@gmail.com'
                    };
                    
                    if (!formData.from_name || !formData.from_email || !formData.message || !formData.subject) {
                        showFormMessage('Please fill all required fields.', 'error');
                        return;
                    }
                    
                    submitBtn.disabled = true;
                    submitText.innerHTML = '<span class="loading"></span> Sending...';
                    
                    try {
                        await sendWithEmailJS(formData);
                    } catch (emailJSError) {
                        console.log('EmailJS failed, trying Formspree...');
                        try {
                            await sendWithFormspree(formData);
                        } catch (formspreeError) {
                            console.log('Formspree failed');
                            showFormMessage(
                                'Sorry, our contact form is currently unavailable. Please email us directly at quantumchem25@gmail.com',
                                'error'
                            );
                        }
                    } finally {
                        submitBtn.disabled = false;
                        submitText.textContent = 'Send Message';
                    }
                });
            }
            
            // EmailJS Function
            async function sendWithEmailJS(formData) {
                return new Promise((resolve, reject) => {
                    emailjs.send(
                        'https://formspree.io/f/xpqqegzg',
                        'https://formspree.io/f/xpqqegzg',
                        formData
                    )
                    .then(function(response) {
                        console.log('EmailJS Success:', response);
                        showFormMessage('Thank you! Your message has been sent successfully.', 'success');
                        contactForm.reset();
                        resolve();
                    }, function(error) {
                        console.error('EmailJS Error:', error);
                        reject(error);
                    });
                });
            }
            
            // Formspree Function
            async function sendWithFormspree(formData) {
                const response = await fetch('https://formspree.io/f/mwvpkjzn', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        name: formData.from_name,
                        email: formData.from_email,
                        subject: formData.subject,
                        message: formData.message,
                        _replyto: formData.from_email,
                        _subject: `Contact Form: ${formData.subject}`
                    })
                });
                
                if (response.ok) {
                    showFormMessage('Thank you! Your message has been sent successfully.', 'success');
                    contactForm.reset();
                    return response;
                } else {
                    throw new Error('Formspree submission failed');
                }
            }
            
            function showFormMessage(message, type) {
                formMessage.textContent = message;
                formMessage.className = 'form-message ' + type;
                formMessage.style.display = 'block';
                formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                setTimeout(() => {
                    formMessage.style.display = 'none';
                }, 10000);
            }
            
            // Phone number formatting
            const phoneLinks = document.querySelectorAll('a[href^="tel:"]');
            phoneLinks.forEach(link => {
                const phoneNumber = link.getAttribute('href').replace('tel:', '');
                link.textContent = formatPhoneNumber(phoneNumber);
            });
            
            function formatPhoneNumber(phoneNumber) {
                const cleaned = phoneNumber.replace(/\D/g, '');
                if (cleaned.length === 10) {
                    return '+91 ' + cleaned.substring(0, 5) + ' ' + cleaned.substring(5);
                }
                return phoneNumber;
            }
            
           // ===== ENHANCED CHATBOT FUNCTIONALITY WITH OPENAI API =====
const chatbotToggle = document.getElementById('chatbotToggle');
const chatbotContainer = document.getElementById('chatbotContainer');
const chatbotClose = document.getElementById('chatbotClose');
const chatbotMessages = document.getElementById('chatbotMessages');
const chatbotInput = document.getElementById('chatbotInput');
const chatbotSend = document.getElementById('chatbotSend');
const quickActions = document.getElementById('quickActions');
const body = document.body;

// Chatbot configuration
const chatbotConfig = {
    apiEndpoint: "/api/chat", // Your OpenAI API endpoint
    systemPrompt: `You are QuantumChem AI Assistant for Quantum Chemistry Lab at PCCOE.
    
Your purpose is to help users with:
1. Chemical database queries and information
2. Research collaboration opportunities
3. Technical support for the platform
4. Contact information and office hours
5. FAQ about quantum chemistry and our platform

Important details to remember:
- Developed by: Nikhil Shinde
- Email: quantumchem25@gmail.com
- Phone: +91 81492 77038
- WhatsApp: +91 81492 77038
- Office hours: Mon-Fri 9AM-6PM, Sat 10AM-2PM IST
- Location: PCCOE, Sector 26, Pradhikaran, Nigdi, Pune
- Database access: Free for basic use, institutional email for full access
- Platform: QuantumChem - Advanced Chemical Database

Be professional, helpful, and concise. Format responses with clear structure using bullet points when appropriate.
Always acknowledge the user's question and provide relevant, accurate information.
NEVER mention OpenAI or ChatGPT in your responses.`,
    maxHistoryLength: 10,
    fallbackResponses: {
        'hello': "Hello! 👋 I'm your AI Quantum Chemistry assistant. How can I help you today?",
        'hi': "Hi there! I'm here to help with chemical database queries and research information.",
        'hey': "Hey! Welcome to Quantum Chemistry Lab. What can I assist you with?",
        'contact': "📧 **Email:** quantumchem25@gmail.com\n📞 **Phone:** +91 81492 77038\n📍 **Location:** PCCOE, Pune\n🕒 **Office Hours:** Mon–Fri, 9AM–6PM IST",
        'email': "📧 **Email Contact:**\n\n• **Primary:** quantumchem25@gmail.com\n• **Response Time:** Within 24 hours\n• **For urgent matters:** Please call or WhatsApp",
        'phone': "📱 **Phone Contact:**\n\n• **Phone:** +91 81492 77038\n• **Hours:** Mon-Fri, 9AM-6PM IST\n• **WhatsApp:** Same number available",
        'hours': "🕒 **Office Hours:**\n\n• **Monday - Friday:** 9:00 AM - 6:00 PM IST\n• **Saturday:** 10:00 AM - 2:00 PM IST\n• **Sunday:** Closed\n\nFor urgent matters, please call or WhatsApp.",
        'database': "🔬 **QuantumChem Database Access**\n\n• Chemical compound information\n• Safety and research data\n• Academic & laboratory support\n• Research collaboration\n\nAccess is available for students and researchers.",
        'help': "❓ **How I can help:**\n\n• Chemical compound information\n• Database queries and access\n• Research collaboration details\n• Technical support issues\n• Contact information\n• Platform FAQs\n\nWhat would you like to know?",
        'support': "🔧 **Technical Support:**\n\n• **Email:** quantumchem25@gmail.com\n• **Response Time:** Within 24 hours\n• **Priority:** Registered users get faster support\n• **Documentation:** Available on our platform",
        'location': "📍 **Laboratory Location:**\n\n• **Institute:** PCCOE, Pune\n• **Address:** Sector 26, Pradhikaran, Nigdi\n• **City:** Pune, Maharashtra 411044\n• **Google Maps:** Available on our contact page",
        'team': "👥 **Research Team:**\n\n• **Lead Researchers:** 5 PhDs in Chemistry\n• **Assistants:** 10 Graduate Students\n• **Collaborators:** Multiple institutions\n• **Focus:** Quantum chemistry and computational research",
        'research': "📚 **Research Areas:**\n\n• Quantum chemical calculations\n• Molecular dynamics simulations\n• Drug discovery\n• Material science\n• Chemical database development",
        'collaboration': "🤝 **Collaboration Opportunities:**\n\n• **Academic:** Joint research projects\n• **Industry:** Applied chemistry solutions\n• **Data Sharing:** Database contributions\n• **Internships:** Student opportunities available",
        'thanks': "You're welcome! 😊 Is there anything else I can help you with?",
        'thank': "You're welcome! 😊 Is there anything else I can help you with?",
        'bye': "Goodbye! 👋 Feel free to reach out anytime if you have more questions.",
        'default': "I'm your Quantum Chemistry AI assistant! I can help you with:\n\n• **Database Queries** - Search chemical compounds\n• **Research Info** - Latest findings and papers\n• **Contact Details** - How to reach our team\n• **Technical Support** - Platform assistance\n\nPlease ask me anything specific!"
    }
};

// Store conversation history
let conversationHistory = [];

// Enhanced toggle with smooth transitions
chatbotToggle.addEventListener('click', function() {
    const isOpening = !chatbotContainer.classList.contains('active');
    
    if (isOpening) {
        body.classList.add('chatbot-active');
        chatbotContainer.classList.add('active');
        setTimeout(() => {
            chatbotInput.focus();
            // Scroll to bottom when opening
            if (chatbotMessages) {
                chatbotMessages.scrollTo({
                    top: chatbotMessages.scrollHeight,
                    behavior: 'smooth'
                });
            }
        }, 300);
    } else {
        chatbotContainer.classList.remove('active');
        setTimeout(() => {
            body.classList.remove('chatbot-active');
        }, 300);
    }
    
    // Toggle pulse animation
    if (isOpening) {
        chatbotToggle.style.animation = 'none';
    } else {
        setTimeout(() => {
            chatbotToggle.style.animation = 'pulse 2s infinite';
        }, 300);
    }
});

// Close chatbot
chatbotClose.addEventListener('click', function() {
    chatbotContainer.classList.remove('active');
    setTimeout(() => {
        body.classList.remove('chatbot-active');
        chatbotToggle.style.animation = 'pulse 2s infinite';
    }, 300);
});

// Close on ESC key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && chatbotContainer.classList.contains('active')) {
        chatbotContainer.classList.remove('active');
        setTimeout(() => {
            body.classList.remove('chatbot-active');
            chatbotToggle.style.animation = 'pulse 2s infinite';
        }, 300);
    }
});

// Close when clicking outside on desktop/tablet
if (window.innerWidth >= 768) {
    document.addEventListener('click', function(e) {
        if (chatbotContainer.classList.contains('active') &&
            !chatbotContainer.contains(e.target) &&
            e.target !== chatbotToggle &&
            !chatbotToggle.contains(e.target)) {
            chatbotContainer.classList.remove('active');
            setTimeout(() => {
                body.classList.remove('chatbot-active');
                chatbotToggle.style.animation = 'pulse 2s infinite';
            }, 300);
        }
    });
}

// Quick actions
quickActions.addEventListener('click', function(e) {
    if (e.target.classList.contains('quick-action-btn') || e.target.closest('.quick-action-btn')) {
        const button = e.target.classList.contains('quick-action-btn') ? e.target : e.target.closest('.quick-action-btn');
        const action = button.dataset.action;
        const questions = {
            'contact': 'What are your contact details?',
            'hours': 'What are your office hours?',
            'database': 'What is the QuantumChem database?',
            'help': 'What can you help me with?'
        };
        if (questions[action]) {
            chatbotInput.value = questions[action];
            sendChatMessage();
        }
    }
});

// Send message function with OpenAI API support
async function sendChatMessage() {
    const message = chatbotInput.value.trim();
    if (!message) return;
    
    // Add user message
    addMessage(message, 'user');
    chatbotInput.value = '';
    chatbotSend.disabled = true;
    
    // Show typing indicator
    const typingIndicator = addTypingIndicator();
    
    try {
        // Prepare the request for OpenAI API
        const response = await fetch(chatbotConfig.apiEndpoint, {
            method: "POST",
            headers: { 
                "Content-Type": "application/json",
                "Accept": "application/json"
            },
            body: JSON.stringify({ 
                message: message
            })
        });
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        
        // Remove typing indicator
        typingIndicator.remove();
        
        // Log to console as requested
        console.log("AI Reply:", data.reply);
        
        // Format and add bot response
        addFormattedMessage(data.reply || "I'm here to help!", 'bot');
        
    } catch (error) {
        console.error('Chatbot API error:', error);
        typingIndicator.remove();
        
        // Fallback to local responses
        useFallbackResponse(message);
    } finally {
        chatbotSend.disabled = false;
        // Refocus input after sending
        setTimeout(() => chatbotInput.focus(), 100);
    }
}

// Fallback response function
function useFallbackResponse(message) {
    const lowerMsg = message.toLowerCase();
    
    // Check for matching keywords in fallback responses
    for (const [key, value] of Object.entries(chatbotConfig.fallbackResponses)) {
        if (lowerMsg.includes(key)) {
            addFormattedMessage(value, 'bot');
            return;
        }
    }
    
    // Custom responses from your API handler
    if (lowerMsg.includes('who owns you') || lowerMsg.includes('who runs you')) {
        const response = "I am developed and managed by **Nikhil Shinde**, founder of QuantumChem – Advanced Chemical Database.";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    if (lowerMsg.includes('who developed you') || lowerMsg.includes('developer')) {
        const response = "This AI assistant was developed by **Nikhil Shinde**, as part of the QuantumChem Laboratory Database project at PCCOE, Pune.";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    if (lowerMsg.includes('what is quantumchem')) {
        const response = "**QuantumChem** is an advanced chemical research and laboratory database platform designed for students, researchers, and academic institutions. It provides chemical data, research support, and safety information.";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    if (lowerMsg.includes('contact') || lowerMsg.includes('contact details')) {
        const response = "📧 **Email:** quantumchem25@gmail.com\n📞 **Phone:** +91 81492 77038\n📍 **Location:** PCCOE, Pune\n🕒 **Office Hours:** Mon–Fri, 9AM–6PM IST";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    if (lowerMsg.includes('database')) {
        const response = "🔬 **QuantumChem Database Access**\n\n• Chemical compound information\n• Safety and research data\n• Academic & laboratory support\n• Research collaboration\n\nAccess is available for students and researchers.";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    // Check for chemical/database related queries
    if (lowerMsg.includes('chemical') || lowerMsg.includes('compound') || lowerMsg.includes('molecule') || lowerMsg.includes('element')) {
        const response = "For chemical compound queries, please visit our database section. I can help you with:\n\n• Searching specific compounds\n• Understanding chemical properties\n• Safety data information\n• Research applications\n\nTry asking about a specific chemical or use our database search feature.";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    if (lowerMsg.includes('access') || lowerMsg.includes('login') || lowerMsg.includes('register') || lowerMsg.includes('account')) {
        const response = "**Platform Access:**\n\n• **Guest Access:** Browse basic database without login\n• **Registered Users:** Full access with institutional email\n• **API Access:** Available for research institutions (contact us)\n• **Support:** Email quantumchem25@gmail.com for access issues\n\nWould you like help with registration?";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    if (lowerMsg.includes('research') || lowerMsg.includes('paper') || lowerMsg.includes('publication') || lowerMsg.includes('study')) {
        const response = "**Research Information:**\n\n• **Current Projects:** Quantum chemical calculations, molecular dynamics\n• **Publications:** Check our ResearchGate profile\n• **Collaborations:** Open for academic and industry partnerships\n• **Student Projects:** Internship opportunities available\n\nFor specific research queries, please email our team.";
        addFormattedMessage(response, 'bot');
        return;
    }
    
    // Default fallback response
    const defaultResponse = chatbotConfig.fallbackResponses.default;
    addFormattedMessage(defaultResponse, 'bot');
}

// Event listeners for chatbot
chatbotSend.addEventListener('click', sendChatMessage);

chatbotInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendChatMessage();
    }
});

// Enable/disable send button based on input
chatbotInput.addEventListener('input', function() {
    chatbotSend.disabled = this.value.trim() === '';
});

// Format text with paragraphs and lists
function formatText(text) {
    if (!text) return '';
    
    // Replace markdown-style bold with strong tags
    text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
    
    // Split by newlines to create paragraphs
    const lines = text.split('\n');
    let formatted = '';
    let inList = false;
    let listType = 'ul'; // Default to unordered list
    
    lines.forEach(line => {
        line = line.trim();
        if (line) {
            // Check if line starts with bullet points or numbers
            if (line.match(/^[•\-\*]\s/)) {
                if (!inList) {
                    formatted += '<ul>';
                    inList = true;
                    listType = 'ul';
                }
                const listItem = line.substring(2);
                formatted += `<li>${listItem}</li>`;
            } else if (line.match(/^\d+\.\s/)) {
                if (!inList || listType !== 'ol') {
                    if (inList) formatted += '</ul>';
                    formatted += '<ol>';
                    inList = true;
                    listType = 'ol';
                }
                const listItem = line.substring(line.indexOf('.') + 2);
                formatted += `<li>${listItem}</li>`;
            } else {
                // Close list if we were in one
                if (inList) {
                    formatted += listType === 'ul' ? '</ul>' : '</ol>';
                    inList = false;
                }
                formatted += `<p>${line}</p>`;
            }
        }
    });
    
    // Close any open list
    if (inList) {
        formatted += listType === 'ul' ? '</ul>' : '</ol>';
    }
    
    return formatted;
}

function addMessage(text, sender) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `chatbot-message ${sender}`;
    messageDiv.textContent = text;
    chatbotMessages.appendChild(messageDiv);
    
    // Add timestamp
    const timestamp = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const timestampDiv = document.createElement('div');
    timestampDiv.className = 'message-timestamp';
    timestampDiv.textContent = timestamp;
    messageDiv.appendChild(timestampDiv);
    
    // Auto-scroll to bottom
    setTimeout(() => {
        chatbotMessages.scrollTo({
            top: chatbotMessages.scrollHeight,
            behavior: 'smooth'
        });
    }, 50);
}

function addFormattedMessage(text, sender) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `chatbot-message ${sender}`;
    messageDiv.innerHTML = formatText(text);
    chatbotMessages.appendChild(messageDiv);
    
    // Add timestamp
    const timestamp = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const timestampDiv = document.createElement('div');
    timestampDiv.className = 'message-timestamp';
    timestampDiv.textContent = timestamp;
    messageDiv.appendChild(timestampDiv);
    
    // Auto-scroll to bottom
    setTimeout(() => {
        chatbotMessages.scrollTo({
            top: chatbotMessages.scrollHeight,
            behavior: 'smooth'
        });
    }, 50);
}

function addTypingIndicator() {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'typing-indicator';
    typingDiv.innerHTML = `
        <div class="typing-dots">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
        </div>
        <span>AI Assistant is typing...</span>
    `;
    chatbotMessages.appendChild(typingDiv);
    
    // Auto-scroll to show typing indicator
    setTimeout(() => {
        chatbotMessages.scrollTo({
            top: chatbotMessages.scrollHeight,
            behavior: 'smooth'
        });
    }, 50);
    
    return typingDiv;
}

// ===== MOBILE KEYBOARD HANDLING =====
let originalViewportHeight = window.innerHeight;

function handleMobileResize() {
    if (window.innerWidth <= 767 && chatbotContainer.classList.contains('active')) {
        const keyboardHeight = originalViewportHeight - window.innerHeight;
        
        if (keyboardHeight > 100) {
            // Keyboard is open
            chatbotInput.scrollIntoView({ behavior: 'smooth', block: 'end' });
            
            // Adjust chat container for keyboard
            chatbotContainer.style.height = `${window.innerHeight}px`;
            
            // Scroll messages to show input area
            setTimeout(() => {
                chatbotMessages.scrollTo({
                    top: chatbotMessages.scrollHeight,
                    behavior: 'smooth'
                });
            }, 300);
        } else {
            // Keyboard is closed
            chatbotContainer.style.height = '100vh';
        }
        
        originalViewportHeight = window.innerHeight;
    }
}

// Handle iOS Safari visual viewport
if ('visualViewport' in window) {
    window.visualViewport.addEventListener('resize', handleMobileResize);
} else {
    window.addEventListener('resize', handleMobileResize);
}

// Handle orientation changes
window.addEventListener('orientationchange', function() {
    setTimeout(handleMobileResize, 300);
});

// Prevent body scroll when chatbot is active on mobile
function preventBodyScroll(e) {
    if (chatbotContainer.classList.contains('active') && window.innerWidth <= 767) {
        e.preventDefault();
        return false;
    }
}

// Touch and wheel events for mobile
document.addEventListener('touchmove', preventBodyScroll, { passive: false });
document.addEventListener('wheel', preventBodyScroll, { passive: false });

// MutationObserver for auto-scrolling when content changes
const observer = new MutationObserver(function() {
    if (chatbotContainer.classList.contains('active') && chatbotMessages) {
        setTimeout(() => {
            chatbotMessages.scrollTo({
                top: chatbotMessages.scrollHeight,
                behavior: 'smooth'
            });
        }, 100);
    }
});

if (chatbotMessages) {
    observer.observe(chatbotMessages, {
        childList: true,
        subtree: true
    });
}

// Handle page visibility changes
document.addEventListener('visibilitychange', function() {
    if (document.hidden && chatbotContainer.classList.contains('active')) {
        chatbotContainer.classList.remove('active');
        body.classList.remove('chatbot-active');
        chatbotToggle.style.animation = 'pulse 2s infinite';
    }
});

// Cleanup on page hide/unload
window.addEventListener('pagehide', function() {
    chatbotContainer.classList.remove('active');
    body.classList.remove('chatbot-active');
});

window.addEventListener('beforeunload', function() {
    chatbotContainer.classList.remove('active');
    body.classList.remove('chatbot-active');
});

// Initialize with proper scroll position
setTimeout(function() {
    if (chatbotMessages) {
        chatbotMessages.scrollTo({
            top: chatbotMessages.scrollHeight,
            behavior: 'auto'
        });
    }
}, 500);

// Initialize send button state
chatbotSend.disabled = chatbotInput.value.trim() === '';

// Add keyboard shortcuts
document.addEventListener('keydown', function(e) {
    // Ctrl+/ or Cmd+/ to toggle chatbot
    if ((e.ctrlKey || e.metaKey) && e.key === '/') {
        e.preventDefault();
        chatbotToggle.click();
    }
    
    // Ctrl+K or Cmd+K to focus input when chatbot is open
    if ((e.ctrlKey || e.metaKey) && e.key === 'k' && chatbotContainer.classList.contains('active')) {
        e.preventDefault();
        chatbotInput.focus();
    }
});

// Add chatbot input placeholder cycling for better UX
const placeholders = [
    "Type your question here...",
    "Ask about chemical compounds...",
    "Need technical support?",
    "Ask about research collaborations...",
    "Database access questions?",
    "Contact information queries...",
    "Who developed this AI assistant?",
    "What is QuantumChem?"
];

let placeholderIndex = 0;

function cyclePlaceholder() {
    chatbotInput.placeholder = placeholders[placeholderIndex];
    placeholderIndex = (placeholderIndex + 1) % placeholders.length;
}

// Cycle placeholder every 5 seconds when input is not focused
setInterval(() => {
    if (document.activeElement !== chatbotInput) {
        cyclePlaceholder();
    }
}, 5000);

// Initialize first placeholder
chatbotInput.placeholder = placeholders[0];

// Add input validation
chatbotInput.addEventListener('input', function() {
    // Limit input length
    if (this.value.length > 500) {
        this.value = this.value.substring(0, 500);
        showInputWarning('Message limited to 500 characters');
    }
});

function showInputWarning(message) {
    // Create warning element
    const warning = document.createElement('div');
    warning.className = 'input-warning';
    warning.textContent = message;
    warning.style.cssText = `
        position: absolute;
        bottom: 100%;
        right: 0;
        background: var(--warning);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: var(--radius-sm);
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        animation: fadeInOut 3s ease;
        z-index: 100;
    `;
    
    // Add to input container
    const inputContainer = chatbotInput.parentElement;
    inputContainer.style.position = 'relative';
    inputContainer.appendChild(warning);
    
    // Remove after 3 seconds
    setTimeout(() => {
        warning.remove();
    }, 3000);
}

// Add CSS for warning animation
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(10px); }
        10% { opacity: 1; transform: translateY(0); }
        90% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(10px); }
    }
`;
document.head.appendChild(style);
            // Initialize chatbot with analytics
            trackChatbotEvent('chatbot_loaded', {
                time: new Date().toISOString(),
                version: '1.0.0',
                features: ['openai_api', 'mobile_optimized', 'persistent_history']
            });
        });
    </script>
</body>
</html>